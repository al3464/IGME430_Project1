<!DOCTYPE html>
<html lang="en">

<head>
  <title>Our simple HTTP server</title>
  <link rel="stylesheet" type="text/css" href="/style.css">
  <title>Search Bar</title>
  <script>
    const searchInput = document.querySelector('.input')

    searchInput.addEventListener("input", (e) => {
     
      let value = e.target.value

      
      if (value && value.trim().length > 0) {
        
        value = value.trim().toLowerCase()
      
      } else {
        // return nothing
        // input is invalid -- show an error message or show no results

      }

    })

    const clearButton = document.getElementById('clear')

    clearButton.addEventListener("click", () => {
      //  write a function that removes any previous results from the page
    })

   
    function setList(results) {

      for (const person of results) {
 
        const resultItem = document.createElement('li')

      
        resultItem.classList.add('result-item')

       
        const text = document.createTextNode(person.name)

        
        resultItem.appendChild(text)

      
        list.appendChild(resultItem)
      }
    }

    function clearList() {
      // looping through each child of the search results list and remove each child
      while (list.firstChild) {
        list.removeChild(list.firstChild)
      }
    }
    searchInput.addEventListener("input", (e) => {
      
      let value = e.target.value

      
      if (value && value.trim().length > 0) {
       
        value = value.trim().toLowerCase()
      
      } else {
        
        clearList()

      }

    })
    clearButton.addEventListener("click", () => {
      clearList()
    })

    function noResults() {
   
      const error = document.createElement('li')
      
      error.classList.add('error-message')

      // creating text for our element
      const text = document.createTextNode('No results found. Sorry!')
      // appending the text to our element
      error.appendChild(text)
      // appending the error to our list element
      list.appendChild(error)
    }

    function setList(results) {
      clearList()
      for (const person of results) {
        const resultItem = document.createElement('li')
        resultItem.classList.add('result-item')
        const text = document.createTextNode(person.name)
        resultItem.appendChild(text)
        list.appendChild(resultItem)
      }

      if (results.length === 0) {
        noResults()
      }
    }
  </script>
</head>

<body>
  <div class="form-container">
    <form class="form">
      <input id="search" type="text" class="input" placeholder="search..." />
      <button id="search" class="search-results">search</button>
      <button id="clear" class="clear-results">clear</button>
      
    </form>

  </div>
  <div class="results-container">
    <ul class="results-list" id="list">

    </ul>
  </div>
</body>

</html>